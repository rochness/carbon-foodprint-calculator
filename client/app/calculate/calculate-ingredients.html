<div>
  <h2 class="ingred_header">INGREDIENTS </h2>
  <div class = "breakdown" ng-controller = "UserIngredController">
    <table>
      <tr>  Meats and Seafood </tr>
      <tr class="breakdown_text" ng-repeat= "ingred in getUserIngreds() | broadCategoryFilter: 'Meat and Fish' ">
        <td class="emissionButtonContainer">
          <a data-toggle="modal" ng-attr-data-target={{'#'+ingred.ingredient.name+'modal'}}>
            <img src="edit_icon.png" width="15" height="15"/>
          </a>
          <a ng-click="remove(ingred)">
            <img src="remove-icon.png" width="15" height="15"/>
          </a>
          <div class="modal fade" ng-attr-id={{ingred.ingredient.name+'modal'}} tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  <h4 class="modal-title" id="myModalLabel">Update Ingredient Details: {{ingred.ingredient.name}} </h4>
                </div>
                <div class="modal-body">
                  <form>
                    <div class="modalText">Quantity (in pounds): </div>
                    <input class="update_input" type="number" name="quantity" ng-model="ingred.quantity">
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addIngredient()">Save changes</button>
                </div>
              </div>
            </div>
          </div>
        </td>
        <td class="qty_ingred_breakdown"><form class="table_qty"><input type="number" ng-model="ingred.quantity"></form> <span> pounds of {{ingred.ingredient.name}} </span> </td>
        <td class ="emissions"> {{subTotal(ingred.quantity, ingred.ingredient.emissions)}} kg CO<sub>2</sub>e </td>
      </tr>
    </table>
    <table>
      <tr>Fruits and Vegetables</tr>
      <tr class="breakdown_text" ng-repeat= "ingred in getUserIngreds() | broadCategoryFilter: 'Fruit and Vegetables'">
        <td class="emissionButtonContainer">
          <a data-toggle="modal" ng-attr-data-target={{'#'+ingred.ingredient.name+'modal'}}>
            <img src="edit_icon.png" width="15" height="15"/>
          </a>
          <a ng-click="remove(ingred)">
            <img src="remove-icon.png" width="15" height="15"/>
          </a>
          <div class="modal fade" ng-attr-id={{ingred.ingredient.name+'modal'}} tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  <h4 class="modal-title" id="myModalLabel">Update Ingredient Details: {{ingred.ingredient.name}} </h4>
                </div>
                <div class="modal-body">
                  <form>
                    <div class="modalText">Quantity (in pounds): </div>
                    <input class="update_input" type="number" name="quantity" ng-model="ingred.quantity">
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addIngredient()">Save changes</button>
                </div>
              </div>
            </div>
          </div>
        </td>
        <td class="qty_ingred_breakdown"><form class="table_qty"><input type="number" ng-model="ingred.quantity"></form> <span> pounds of {{ingred.ingredient.name}} </span> </td>
        <td class ="emissions"> {{subTotal(ingred.quantity, ingred.ingredient.emissions)}} kg CO<sub>2</sub>e </td>
      </tr>
    </table>
    <table>
      <tr>Other</tr>
      <tr class="breakdown_text" ng-repeat= "ingred in getUserIngreds() | broadCategoryFilter: 'Other'">
        <td class="emissionButtonContainer">
          <a data-toggle="modal" ng-attr-data-target={{'#'+ingred.ingredient.name+'modal'}}>
            <img src="edit_icon.png" width="15" height="15"/>
          </a>
          <a ng-click="remove(ingred)">
            <img src="remove-icon.png" width="15" height="15"/>
          </a>
          <div class="modal fade" ng-attr-id={{ingred.ingredient.name+'modal'}} tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  <h4 class="modal-title" id="myModalLabel">Update Ingredient Details: {{ingred.ingredient.name}} </h4>
                </div>
                <div class="modal-body">
                  <form>
                    <div class="modalText">Quantity (in pounds): </div>
                    <input class="update_input" type="number" name="quantity" ng-model="ingred.quantity">
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addIngredient()">Save changes</button>
                </div>
              </div>
            </div>
          </div>
        </td>
        <td class="qty_ingred_breakdown"><form class="table_qty"><input type="number" ng-model="ingred.quantity"></form> <span> pounds of {{ingred.ingredient.name}} </span> </td>
        <td class ="emissions"> {{subTotal(ingred.quantity, ingred.ingredient.emissions)}} kg CO<sub>2</sub>e </td>
      </tr>
    </table>

  <h2 class="total_header">TOTAL</h2>
  <p>Your carbon foodprint is <span class="emphasize">{{total()}} kg of CO<sub>2</sub>e. </span>This is to equivalent the emissions of driving <span class="emphasize">{{miles()}} miles </span>in a car.</p>
  <h2 class="offset_header">APPROXIMATE COST TO OFFSET</h2>
  <p>You can purchase <span class="emphasize"> ${{costs()}} </span> of carbon offsets to balance your emissions. Click here to learn more</p>
</div>